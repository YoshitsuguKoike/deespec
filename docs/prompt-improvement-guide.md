# AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ”¹å–„ã‚¬ã‚¤ãƒ‰

**ä½œæˆæ—¥**: 2025-10-11
**å¯¾è±¡**: deespec SBIå®Ÿè¡Œæ™‚ã®Claude Codeãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
**ç›®çš„**: AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å®Ÿè¡ŒåŠ¹ç‡ã¨æˆæœç‰©ã®å“è³ªå‘ä¸Š

---

## ç›®æ¬¡

1. [æ¦‚è¦](#æ¦‚è¦)
2. [ç¾åœ¨ã®å•é¡Œç‚¹](#ç¾åœ¨ã®å•é¡Œç‚¹)
3. [æ”¹å–„ææ¡ˆ](#æ”¹å–„ææ¡ˆ)
4. [å®Ÿè£…ä¾‹](#å®Ÿè£…ä¾‹)
5. [å°å…¥æ‰‹é †](#å°å…¥æ‰‹é †)
6. [æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ](#æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ)

---

## æ¦‚è¦

æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€deespecã®SBIï¼ˆSpec Backlog Itemï¼‰å®Ÿè¡Œæ™‚ã«Claude Codeã¸æ¸¡ã™ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®æ”¹å–„æ–¹æ³•ã‚’ã¾ã¨ã‚ãŸã‚‚ã®ã§ã™ã€‚

### èƒŒæ™¯

ç¾åœ¨ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¯æœ€å°é™ã®æƒ…å ±ï¼ˆSBI ID, ã‚¿ã‚¤ãƒˆãƒ«, èª¬æ˜ï¼‰ã®ã¿ã‚’å«ã‚“ã§ãŠã‚Šã€AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯ä»¥ä¸‹ã®ã‚ˆã†ãªéåŠ¹ç‡ãªå‹•ä½œã‚’ã—ã¦ã„ã¾ã™:

- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã‚’æ¯å›æ¢ç´¢ã™ã‚‹ï¼ˆ5-10åˆ†ã®ãƒ­ã‚¹ï¼‰
- æ›–æ˜§ãªã‚¿ã‚¹ã‚¯æŒ‡ç¤ºã‚’è§£é‡ˆã™ã‚‹ãŸã‚ã«è©¦è¡ŒéŒ¯èª¤ã™ã‚‹
- å®Œäº†æ¡ä»¶ãŒä¸æ˜ç¢ºã§ã€ä½•ã‚’ã‚‚ã£ã¦å®Œäº†ã¨ã™ã‚‹ã‹åˆ¤æ–­ã§ããªã„

### æ”¹å–„ã®æ–¹å‘æ€§

1. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±ã®æä¾›**: æ§‹é€ ã€æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã€ã‚³ãƒãƒ³ãƒ‰ã‚’äº‹å‰ã«ä¼ãˆã‚‹
2. **ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—ã®æŒ‡ç¤º**: å®Ÿè¡Œæ‰‹é †ã‚’æ˜ç¤ºã™ã‚‹
3. **Acceptance Criteriaã®æ˜ç¤º**: å®Œäº†æ¡ä»¶ã‚’ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆåŒ–
4. **æ§‹é€ åŒ–ã•ã‚ŒãŸãƒ¬ãƒãƒ¼ãƒˆ**: æˆæœç‰©ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’çµ±ä¸€

---

## ç¾åœ¨ã®å•é¡Œç‚¹

### å•é¡Œ1: æ›–æ˜§ãªã‚¿ã‚¹ã‚¯æŒ‡ç¤º

**äº‹ä¾‹**:
```
Description: "å‹•ä½œç¢ºèªãŸã‚step10ã¾ã§é€²ã‚ã¦ãã ã•ã„"
```

**å•é¡Œç‚¹**:
- "step 10" ãŒä½•ã‚’æŒ‡ã™ã®ã‹ä¸æ˜
- "å‹•ä½œç¢ºèª" ã®å…·ä½“çš„ãªå†…å®¹ãŒä¸æ˜
- å®Œäº†æ¡ä»¶ãŒå®šç¾©ã•ã‚Œã¦ã„ãªã„

**å½±éŸ¿**:
- AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒ5åˆ†ä»¥ä¸Šæ¢ç´¢ã«æ™‚é–“ã‚’è²»ã‚„ã™
- æœ€çµ‚çš„ã«æœŸå¾…ã¨ç•°ãªã‚‹æˆæœç‰©ãŒç”Ÿæˆã•ã‚Œã‚‹

### å•é¡Œ2: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±ã®æ¬ å¦‚

**ç¾åœ¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«å«ã¾ã‚Œã‚‹æƒ…å ±**:
```yaml
å«ã¾ã‚Œã‚‹:
  - SBI ID
  - ã‚¿ã‚¤ãƒˆãƒ«
  - èª¬æ˜æ–‡
  - ã‚¿ãƒ¼ãƒ³ç•ªå·
  - è©¦è¡Œå›æ•°

å«ã¾ã‚Œãªã„:
  - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 
  - æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ (Go, Clean Architecture)
  - ãƒ“ãƒ«ãƒ‰/ãƒ†ã‚¹ãƒˆã‚³ãƒãƒ³ãƒ‰
  - é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€
```

**å½±éŸ¿**:
- AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒæ¯å›ã‚¼ãƒ­ã‹ã‚‰å­¦ç¿’
- `ls`, `find`, `grep` ã§æ¢ç´¢ã‚’ç¹°ã‚Šè¿”ã™
- ä¸é©åˆ‡ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã™ã‚‹ãƒªã‚¹ã‚¯

### å•é¡Œ3: æˆæœç‰©ã®æ›–æ˜§ã•

**ç¾åœ¨ã®æŒ‡ç¤º**:
```
Please implement the above specification.
Write your complete implementation report to the file...
```

**æ›–æ˜§ãªç‚¹**:
- "implement"ï¼ˆå®Ÿè£…ï¼‰ã¨ "report"ï¼ˆãƒ¬ãƒãƒ¼ãƒˆï¼‰ã®ã©ã¡ã‚‰ãŒä¸»ã‹ä¸æ˜
- å®Ÿéš›ã«ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã®ã‹ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã ã‘ã‹ä¸æ˜
- ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã®å¿…è¦æ€§ãŒæ˜ç¤ºã•ã‚Œã¦ã„ãªã„

**å½±éŸ¿**:
- ãƒ¬ãƒãƒ¼ãƒˆã ã‘æ›¸ã„ã¦å®Ÿè£…ã—ãªã„
- ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã›ãšã«å®Œäº†ã¨ã™ã‚‹
- ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒãƒãƒ©ãƒãƒ©ã§èª­ã¿ã«ãã„

### å•é¡Œ4: å®Œäº†åˆ¤å®šã®ä¸æ˜ç¢ºã•

**ç¾çŠ¶**:
å®Œäº†æ¡ä»¶ãŒæ˜ç¤ºã•ã‚Œã¦ã„ãªã„ãŸã‚ã€AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒç‹¬è‡ªã«åˆ¤æ–­

**çµæœ**:
- ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã—ã¦ã„ã¦ã‚‚å®Œäº†ã¨ã™ã‚‹
- ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãŒã‚ã£ã¦ã‚‚æ°—ã¥ã‹ãªã„
- é‡è¦ãªæ¤œè¨¼ã‚¹ãƒ†ãƒƒãƒ—ã‚’é£›ã°ã™

---

## æ”¹å–„ææ¡ˆ

### å„ªå…ˆåº¦1: å³åŠ¹æ€§ãŒé«˜ã„æ”¹å–„ï¼ˆå®Ÿè£…æ™‚é–“: 1-2æ™‚é–“ï¼‰

#### æ”¹å–„1-1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±ã®è¿½åŠ 

**å®Ÿè£…ç®‡æ‰€**: `internal/application/usecase/execution/run_turn_use_case.go`

**æ–°è¦é–¢æ•°ã®è¿½åŠ **:
```go
// buildProjectContext generates context information about the project structure
func (uc *RunTurnUseCase) buildProjectContext(sbiEntity *sbi.SBI) string {
    var context strings.Builder

    context.WriteString("### Project Structure\n\n")
    context.WriteString("This is a Go project using Clean Architecture:\n\n")
    context.WriteString("```\n")
    context.WriteString("deespec/\n")
    context.WriteString("â”œâ”€â”€ cmd/deespec/        # Main entry point\n")
    context.WriteString("â”œâ”€â”€ internal/\n")
    context.WriteString("â”‚   â”œâ”€â”€ domain/         # Domain models and interfaces\n")
    context.WriteString("â”‚   â”œâ”€â”€ application/    # Use cases and business logic\n")
    context.WriteString("â”‚   â”œâ”€â”€ infrastructure/ # External dependencies\n")
    context.WriteString("â”‚   â””â”€â”€ interface/cli/  # CLI commands\n")
    context.WriteString("â”œâ”€â”€ Makefile            # Build and test commands\n")
    context.WriteString("â””â”€â”€ go.mod              # Dependencies\n")
    context.WriteString("```\n\n")

    context.WriteString("### Common Commands\n\n")
    context.WriteString("- Build: `make build`\n")
    context.WriteString("- Test: `make test-coverage`\n")
    context.WriteString("- Run: `./dist/deespec <command>`\n\n")

    context.WriteString("### Technology Stack\n\n")
    context.WriteString("- Language: Go 1.21+\n")
    context.WriteString("- Architecture: Clean Architecture (Domain-Driven Design)\n")
    context.WriteString("- CLI Framework: cobra\n")
    context.WriteString("- Database: SQLite (via GORM)\n")
    context.WriteString("- Testing: Go's built-in testing + testify\n\n")

    // ã‚¿ã‚¹ã‚¯å†…å®¹ã‹ã‚‰é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¨æ¸¬
    description := strings.ToLower(sbiEntity.Description())

    if strings.Contains(description, "test") || strings.Contains(description, "ãƒ†ã‚¹ãƒˆ") {
        context.WriteString("### Testing Guidelines\n\n")
        context.WriteString("- Test files: `*_test.go` alongside source files\n")
        context.WriteString("- Run tests: `make test-coverage`\n")
        context.WriteString("- Test with race detector: `-race` flag is enabled by default\n\n")
    }

    if strings.Contains(description, "cli") || strings.Contains(description, "command") || strings.Contains(description, "ã‚³ãƒãƒ³ãƒ‰") {
        context.WriteString("### CLI Command Structure\n\n")
        context.WriteString("- Commands are in: `internal/interface/cli/`\n")
        context.WriteString("- Each command is a separate package\n")
        context.WriteString("- Use cobra.Command for command definitions\n")
        context.WriteString("- Register commands in `root.go`\n\n")
    }

    if strings.Contains(description, "sbi") {
        context.WriteString("### SBI-Related Files\n\n")
        context.WriteString("- Domain model: `internal/domain/model/sbi/`\n")
        context.WriteString("- Use cases: `internal/application/usecase/`\n")
        context.WriteString("- Repository: `internal/domain/repository/sbi_task_repository.go`\n")
        context.WriteString("- CLI commands: `internal/interface/cli/sbi/`\n\n")
    }

    return context.String()
}
```

**æœŸå¾…åŠ¹æœ**:
- æ¢ç´¢æ™‚é–“ãŒ5åˆ† â†’ 30ç§’ã«çŸ­ç¸®
- é©åˆ‡ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã§ãã‚‹ç¢ºç‡ãŒå‘ä¸Š
- Clean Architectureã®ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ†é›¢ã‚’å®ˆã£ãŸå®Ÿè£…

#### æ”¹å–„1-2: ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—ã®æŒ‡ç¤º

**å¤‰æ›´ç®‡æ‰€**: `buildPromptWithArtifact()` ã® `case "implement":` ã‚»ã‚¯ã‚·ãƒ§ãƒ³

**æ”¹å–„å¾Œã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ**:
```go
case "implement":
    projectContext := uc.buildProjectContext(sbiEntity)

    prompt = fmt.Sprintf(`# Implementation Task

**SBI ID**: %s
**Title**: %s
**Description**: %s
**Turn**: %d
**Attempt**: %d

## Project Context

%s

## Your Task

Please implement the above specification following these steps:

### Step 1: Understand the Requirement
- Read the description carefully
- Identify what needs to be changed/added
- Determine which files will be affected

### Step 2: Locate Relevant Files
- Use the project context above
- Search for existing implementations
- Identify where to make changes

### Step 3: Implement Changes
- Make the necessary code modifications
- Follow existing code patterns and style
- Add comments for complex logic

### Step 4: Verify Implementation
- **Build**: Run \`make build\` and confirm it succeeds
- **Test**: Run \`make test-coverage\` and confirm all tests pass
- **Manual Check**: If applicable, test the functionality manually

### Step 5: Document Your Work
- Write the implementation report (see format below)
- Include all verification results
- Note any issues or decisions made

## Acceptance Criteria

Your implementation is complete when ALL of the following are checked:

- [ ] Code changes are implemented correctly
- [ ] Build succeeds: \`make build\` returns exit code 0
- [ ] All tests pass: \`make test-coverage\` shows no failures
- [ ] Implementation report is written to: %s

**Important**: If any test fails or build fails, you MUST fix it before completing the task.

## Output File

**File**: %s

Write your implementation report using the following structure:

### 1. Implementation Summary (REQUIRED)
Briefly describe what you implemented (2-3 sentences) and list modified/created files.

Example:
> Implemented the SBI history command that displays execution history from journal.ndjson.
> Modified files: internal/interface/cli/sbi/sbi_history.go (created new file)

### 2. Changes Made (REQUIRED)
List each file changed with a brief description:

Example:
- \`internal/interface/cli/sbi/sbi_history.go\`: Created new command implementation
- \`internal/interface/cli/sbi/sbi.go\`: Added history subcommand registration
- \`internal/domain/repository/journal_repository.go\`: Added FindBySBI method

### 3. Verification Steps (REQUIRED)
Document your verification results using this checklist:

- [ ] **Build Status**: [PASS/FAIL]
  - Command: \`make build\`
  - Result: [describe the result]

- [ ] **Test Results**: [X/Y tests passed]
  - Command: \`make test-coverage\`
  - Result: [list any failures or "all tests passed"]
  - Coverage: [overall coverage percentage if available]

- [ ] **Manual Verification**: [what you tested]
  - Example: "Ran \`deespec sbi history <id>\` and confirmed output format"

### 4. Design Decisions (OPTIONAL)
Explain any important technical choices you made:

Example:
> Chose to support both full and partial SBI ID matching to improve UX.
> Used NDJSON format for backward compatibility with existing journal files.

### 5. Challenges and Considerations (OPTIONAL)
Document any issues encountered and how you resolved them:

Example:
> Challenge: Journal file didn't exist for new SBIs
> Solution: Added existence check and friendly error message

## Important Guidelines

- **Be specific**: Focus on the task, avoid unnecessary exploration
- **Follow patterns**: Match the existing code style and architecture
- **Write actual code**: This is an implementation task, not just documentation
- **Verify thoroughly**: Always run tests before marking as complete
- **Ask for help**: If requirements are unclear, state what information is needed

Use the Write tool to create the implementation report at: %s
`, sbiID, title, description, turn, attempt, projectContext, artifactPath, artifactPath, artifactPath)
```

**æœŸå¾…åŠ¹æœ**:
- ã‚¿ã‚¹ã‚¯ã®é€²ã‚æ–¹ãŒæ˜ç¢ºã«ãªã‚‹
- æ¤œè¨¼ã‚¹ãƒ†ãƒƒãƒ—ã‚’é£›ã°ã•ãªã„
- ãƒ¬ãƒãƒ¼ãƒˆã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒçµ±ä¸€ã•ã‚Œã‚‹

#### æ”¹å–„1-3: ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®æ”¹å–„

**å¤‰æ›´ç®‡æ‰€**: `buildPromptWithArtifact()` ã® `case "review":` ã‚»ã‚¯ã‚·ãƒ§ãƒ³

**æ”¹å–„å¾Œã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ**:
```go
case "review":
    implementPath := fmt.Sprintf(".deespec/specs/sbi/%s/implement_%d.md", sbiID, turn-1)

    prompt = fmt.Sprintf(`# Code Review Task

**SBI ID**: %s
**Title**: %s
**Turn**: %d
**Attempt**: %d

## Your Task

Review the implementation documented at: %s

## Review Process

Follow these steps systematically:

### Step 1: Read the Implementation Report
- Open and read: %s
- Understand what was claimed to be implemented
- Note which files were modified

### Step 2: Verify Code Changes
- Locate the files mentioned in the report
- Review the actual code changes
- Check if implementation matches the description
- Verify code quality and style consistency

### Step 3: Run Verification Commands
Execute the following and document results:

**Build Verification**:
\`\`\`bash
make build
\`\`\`
Expected: Exit code 0, no errors

**Test Verification**:
\`\`\`bash
make test-coverage
\`\`\`
Expected: All tests pass, no failures

### Step 4: Make Your Decision

Based on verification results, choose ONE of the following:

- **SUCCEEDED**: Implementation is correct, complete, all tests pass, ready for production
- **NEEDS_CHANGES**: Implementation works but has minor issues (suggest improvements)
- **FAILED**: Implementation doesn't work, tests fail, or has major issues (must be re-implemented)

**Decision Criteria**:
- If build fails â†’ FAILED
- If any test fails â†’ NEEDS_CHANGES or FAILED (depending on severity)
- If implementation incomplete â†’ NEEDS_CHANGES or FAILED
- If everything works â†’ SUCCEEDED

## Output File

**File**: %s

Write your review report using the following structure:

### 1. Implementation Quality Assessment (REQUIRED)

Evaluate the implementation:
- Was the task completed as specified?
- Are the code changes appropriate?
- Is the code quality acceptable?
- Rating: [Excellent / Good / Acceptable / Poor]

### 2. Verification Results (REQUIRED)

Document verification outcomes:

**Build Verification**:
- [ ] Status: [PASS/FAIL]
- Command: \`make build\`
- Output: [summarize result or paste key errors]

**Test Verification**:
- [ ] Status: [X/Y tests passed]
- Command: \`make test-coverage\`
- Failed tests: [list failed tests or "none"]
- Coverage: [percentage if available]

**Code Review**:
- [ ] Code quality: [assessment]
- [ ] Follows project patterns: [yes/no with details]
- [ ] No obvious bugs: [yes/no with details]

### 3. Specific Issues Found (REQUIRED if not SUCCEEDED)

If you found issues, list each one:

**Issue 1**:
- File: \`path/to/file.go\`
- Line: 123 (if applicable)
- Problem: [describe the issue]
- Severity: [Critical / Major / Minor]
- Suggestion: [how to fix]

**Issue 2**:
...

If no issues: Write "No issues found."

### 4. Suggestions for Improvement (OPTIONAL)

Non-blocking suggestions for better code:
- Suggestion 1: [description]
- Suggestion 2: [description]

### 5. Final Decision (REQUIRED)

**DECISION: [SUCCEEDED | NEEDS_CHANGES | FAILED]**

**Reasoning**:
[Explain in 2-3 sentences why you made this decision. Reference specific verification results.]

Example:
> DECISION: SUCCEEDED
> Reasoning: All tests pass (37/37), build succeeds without errors, and code quality is good.
> The implementation correctly handles both NDJSON and JSON array formats as required.

## Important Notes

- Be thorough but fair
- Base decision on objective criteria (test results, build status)
- If uncertain, run the verification commands yourself
- SUCCEEDED means production-ready, so be careful

Use the Write tool to create this review report at: %s
`, sbiID, title, turn, attempt, implementPath, implementPath, artifactPath, artifactPath)
```

**æœŸå¾…åŠ¹æœ**:
- ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒå½¢å¼çš„ã§ãªãå®Ÿè³ªçš„ã«ãªã‚‹
- åˆ¤å®šåŸºæº–ãŒæ˜ç¢ºã«ãªã‚‹
- ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæœã®å†ç¾æ€§ãŒå‘ä¸Š

### å„ªå…ˆåº¦2: ä¸­æœŸçš„ãªæ”¹å–„ï¼ˆå®Ÿè£…æ™‚é–“: åŠæ—¥ï¼‰

#### æ”¹å–„2-1: ã‚¿ã‚¹ã‚¯ä»•æ§˜ã®å“è³ªæ¤œè¨¼

**å®Ÿè£…ç®‡æ‰€**: `internal/application/usecase/register_sbi_usecase.go` ã¾ãŸã¯æ–°è¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

**æ–°è¦é–¢æ•°**:
```go
// ValidateTaskDescription checks if a task description is specific and actionable
func ValidateTaskDescription(description string) []string {
    var issues []string

    description = strings.TrimSpace(description)

    // Rule 1: Minimum length check
    if len(description) < 20 {
        issues = append(issues,
            "âš ï¸  Description is too short (minimum 20 characters). "+
            "Provide more details about what needs to be done.")
    }

    // Rule 2: Check for vague terms without action verbs
    vagueTerms := []string{
        "å‹•ä½œç¢ºèª", "ç¢ºèª", "ãƒã‚§ãƒƒã‚¯", "è¦‹ã‚‹", "èª¿ã¹ã‚‹",
        "check", "verify", "look at", "investigate", "review",
    }

    desc := strings.ToLower(description)
    hasVagueTerm := false
    vagueTermFound := ""

    for _, term := range vagueTerms {
        if strings.Contains(desc, strings.ToLower(term)) {
            hasVagueTerm = true
            vagueTermFound = term
            break
        }
    }

    if hasVagueTerm {
        // Check if there are concrete action verbs
        actionVerbs := []string{
            "å®Ÿè£…", "ä¿®æ­£", "è¿½åŠ ", "å‰Šé™¤", "ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°", "ä½œæˆ", "æ›´æ–°",
            "implement", "fix", "add", "remove", "refactor", "create",
            "update", "build", "test", "write", "run",
        }

        hasActionVerb := false
        for _, verb := range actionVerbs {
            if strings.Contains(desc, strings.ToLower(verb)) {
                hasActionVerb = true
                break
            }
        }

        if !hasActionVerb {
            issues = append(issues,
                fmt.Sprintf("âš ï¸  Description contains vague term '%s' without clear action verbs. "+
                    "Be specific: What exactly should be implemented, fixed, or tested?",
                    vagueTermFound))
        }
    }

    // Rule 3: Check for completion criteria
    completionIndicators := []string{
        "å®Œäº†æ¡ä»¶", "acceptance criteria", "ã™ã¹ã¦", "å…¨ã¦",
        "all tests", "should", "must", "ã¾ã§",
    }

    hasCompletionCriteria := false
    for _, indicator := range completionIndicators {
        if strings.Contains(desc, strings.ToLower(indicator)) {
            hasCompletionCriteria = true
            break
        }
    }

    if !hasCompletionCriteria {
        issues = append(issues,
            "âš ï¸  Description lacks completion criteria. "+
            "Specify: How will you know when the task is done? "+
            "(e.g., 'all tests pass', 'build succeeds', 'function X works correctly')")
    }

    // Rule 4: Check for references to specific files or components
    hasSpecificReference := false
    specificPatterns := []regexp.Regexp{
        *regexp.MustCompile(`\w+\.go`),              // Go files
        *regexp.MustCompile(`/\w+/`),                // Paths
        *regexp.MustCompile(`(é–¢æ•°|function)\s+\w+`), // Functions
        *regexp.MustCompile(`(package|ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸)\s+\w+`), // Packages
    }

    for _, pattern := range specificPatterns {
        if pattern.MatchString(description) {
            hasSpecificReference = true
            break
        }
    }

    if !hasSpecificReference && len(description) > 50 {
        // Only warn for longer descriptions
        issues = append(issues,
            "ğŸ’¡ Consider adding specific file/function/component references. "+
            "This helps AI agents locate exactly what needs to be changed.")
    }

    return issues
}
```

**ä½¿ç”¨æ–¹æ³•**:

```go
// In register_sbi_usecase.go or CLI command

description := req.Description

// Validate description quality
validationIssues := ValidateTaskDescription(description)

if len(validationIssues) > 0 {
    fmt.Println("\nâš ï¸  Task description has quality issues:\n")
    for _, issue := range validationIssues {
        fmt.Println("  " + issue)
    }

    fmt.Println("\nğŸ’¡ Suggested improvements:")
    fmt.Println("  - Be specific about what to implement/fix/test")
    fmt.Println("  - Include completion criteria (when is it done?)")
    fmt.Println("  - Reference specific files or components")
    fmt.Println("  - Use action verbs (implement, fix, add, test)")

    // Optional: Ask for confirmation
    if !req.Force {
        fmt.Print("\nDo you want to register this task anyway? [y/N]: ")
        var response string
        fmt.Scanln(&response)

        if strings.ToLower(response) != "y" {
            return fmt.Errorf("task registration cancelled")
        }
    }
}
```

**æœŸå¾…åŠ¹æœ**:
- ã‚¿ã‚¹ã‚¯ä½œæˆæ™‚ã«å“è³ªã‚’å‘ä¸Š
- æ›–æ˜§ãªã‚¿ã‚¹ã‚¯ã®ç™»éŒ²ã‚’é˜²ã
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®æ•™è‚²çš„åŠ¹æœ

#### æ”¹å–„2-2: æ¨å¥¨ã‚¿ã‚¹ã‚¯ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®æä¾›

**å®Ÿè£…ç®‡æ‰€**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ `docs/sbi-task-writing-guide.md`

å†…å®¹ã¯å¾Œè¿°ã®ã€Œã‚¿ã‚¹ã‚¯è¨˜è¿°ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‚ç…§

### å„ªå…ˆåº¦3: é•·æœŸçš„ãªæ”¹å–„ï¼ˆå®Ÿè£…æ™‚é–“: 2-3æ—¥ï¼‰

#### æ”¹å–„3-1: SBI Entityã¸ã®æ§‹é€ åŒ–ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 

**å¤‰æ›´ç®‡æ‰€**:
- `internal/domain/model/sbi/sbi.go`
- `internal/infrastructure/persistence/sqlite/schema.sql`
- ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å‡¦ç†

**è¿½åŠ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰**:
```go
type SBI struct {
    // ... existing fields ...

    // æ§‹é€ åŒ–ã•ã‚ŒãŸæƒ…å ±
    AcceptanceCriteria []string          // å—ã‘å…¥ã‚ŒåŸºæº–ã®ãƒªã‚¹ãƒˆ
    RelatedFiles       []string          // é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹
    TargetComponent    string            // å¯¾è±¡ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (CLI, Domain, Usecase, etc.)
    Prerequisites      []string          // å‰ææ¡ä»¶
    ExpectedOutcome    string            // æœŸå¾…ã•ã‚Œã‚‹æˆæœ

    // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
    EstimatedDuration  time.Duration     // æƒ³å®šæ‰€è¦æ™‚é–“
    Complexity         ComplexityLevel   // ã‚¿ã‚¹ã‚¯ã®è¤‡é›‘åº¦ (Low, Medium, High)
}
```

**ç§»è¡Œæˆ¦ç•¥**:
1. æ—¢å­˜ã®Descriptionãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ä¿æŒ
2. æ–°ã—ã„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«
3. Descriptionè§£æã§è‡ªå‹•æŠ½å‡ºã‚’è©¦ã¿ã‚‹
4. æ®µéšçš„ã«ç§»è¡Œ

#### æ”¹å–„3-2: ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—åˆ¥ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

**å®Ÿè£…æ–¹æ³•**: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ã®å°å…¥

**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—ã®åˆ†é¡**:
- `bug-fix`: ãƒã‚°ä¿®æ­£
- `feature`: æ–°æ©Ÿèƒ½å®Ÿè£…
- `refactor`: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
- `test`: ãƒ†ã‚¹ãƒˆè¿½åŠ /ä¿®æ­£
- `docs`: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ
- `build`: ãƒ“ãƒ«ãƒ‰/CI/CDé–¢é€£

å„ã‚¿ã‚¤ãƒ—ã«æœ€é©åŒ–ã•ã‚ŒãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”¨æ„

---

## å®Ÿè£…ä¾‹

### ä¾‹1: æ”¹å–„å‰å¾Œã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ¯”è¼ƒ

#### Beforeï¼ˆæ”¹å–„å‰ï¼‰:
```
# Implementation Task

**SBI ID**: 4d9d6e50-e5f1-4f82-9fbd-922fed9a03d9
**Title**: å‹•ä½œç¢ºèª
**Description**: å‹•ä½œç¢ºèªãŸã‚step10ã¾ã§é€²ã‚ã¦ãã ã•ã„
**Turn**: 2
**Attempt**: 1

## Your Task

Please implement the above specification. Write your complete implementation report to the file:

**Output File**: .deespec/specs/sbi/4d9d6e50-e5f1-4f82-9fbd-922fed9a03d9/implement_2.md

The report should include:
1. Overview of what you implemented
2. Key design decisions
3. Code changes made
4. Any challenges or considerations
5. Testing notes (if applicable)

Use the Write tool to create this file with your full implementation report.
```

**å•é¡Œç‚¹**:
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±ãŒãªã„ â†’ æ¢ç´¢ã«æ™‚é–“ãŒã‹ã‹ã‚‹
- "step 10" ãŒä¸æ˜ç¢º â†’ ä½•ã‚’ã™ã¹ãã‹åˆ†ã‹ã‚‰ãªã„
- å®Œäº†æ¡ä»¶ãŒãªã„ â†’ åˆ¤æ–­åŸºæº–ãŒä¸æ˜
- ãƒ¬ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒæ›–æ˜§ â†’ å“è³ªãŒãƒãƒ©ãƒãƒ©

#### Afterï¼ˆæ”¹å–„å¾Œï¼‰:
```
# Implementation Task

**SBI ID**: 4d9d6e50-e5f1-4f82-9fbd-922fed9a03d9
**Title**: å‹•ä½œç¢ºèª
**Description**: å‹•ä½œç¢ºèªãŸã‚step10ã¾ã§é€²ã‚ã¦ãã ã•ã„
**Turn**: 2
**Attempt**: 1

## Project Context

### Project Structure

This is a Go project using Clean Architecture:

```
deespec/
â”œâ”€â”€ cmd/deespec/        # Main entry point
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ domain/         # Domain models and interfaces
â”‚   â”œâ”€â”€ application/    # Use cases and business logic
â”‚   â”œâ”€â”€ infrastructure/ # External dependencies
â”‚   â””â”€â”€ interface/cli/  # CLI commands
â”œâ”€â”€ Makefile            # Build and test commands
â””â”€â”€ go.mod              # Dependencies
```

### Common Commands

- Build: `make build`
- Test: `make test-coverage`
- Run: `./dist/deespec <command>`

### Technology Stack

- Language: Go 1.21+
- Architecture: Clean Architecture (Domain-Driven Design)
- CLI Framework: cobra
- Database: SQLite (via GORM)
- Testing: Go's built-in testing + testify

## Your Task

Please implement the above specification following these steps:

### Step 1: Understand the Requirement
- Read the description carefully
- Identify what needs to be changed/added
- Determine which files will be affected

### Step 2: Locate Relevant Files
- Use the project context above
- Search for existing implementations
- Identify where to make changes

### Step 3: Implement Changes
- Make the necessary code modifications
- Follow existing code patterns and style
- Add comments for complex logic

### Step 4: Verify Implementation
- **Build**: Run `make build` and confirm it succeeds
- **Test**: Run `make test-coverage` and confirm all tests pass
- **Manual Check**: If applicable, test the functionality manually

### Step 5: Document Your Work
- Write the implementation report (see format below)
- Include all verification results
- Note any issues or decisions made

## Acceptance Criteria

Your implementation is complete when ALL of the following are checked:

- [ ] Code changes are implemented correctly
- [ ] Build succeeds: `make build` returns exit code 0
- [ ] All tests pass: `make test-coverage` shows no failures
- [ ] Implementation report is written to: .deespec/specs/sbi/4d9d6e50-e5f1-4f82-9fbd-922fed9a03d9/implement_2.md

**Important**: If any test fails or build fails, you MUST fix it before completing the task.

## Output File

**File**: .deespec/specs/sbi/4d9d6e50-e5f1-4f82-9fbd-922fed9a03d9/implement_2.md

Write your implementation report using the following structure:

### 1. Implementation Summary (REQUIRED)
Briefly describe what you implemented (2-3 sentences) and list modified/created files.

### 2. Changes Made (REQUIRED)
List each file changed with a brief description:

- `path/to/file1.go`: Description of changes
- `path/to/file2.go`: Description of changes

### 3. Verification Steps (REQUIRED)
Document your verification results using this checklist:

- [ ] **Build Status**: [PASS/FAIL]
  - Command: `make build`
  - Result: [describe the result]

- [ ] **Test Results**: [X/Y tests passed]
  - Command: `make test-coverage`
  - Result: [list any failures or "all tests passed"]
  - Coverage: [overall coverage percentage if available]

- [ ] **Manual Verification**: [what you tested]

### 4. Design Decisions (OPTIONAL)
Explain any important technical choices you made.

### 5. Challenges and Considerations (OPTIONAL)
Document any issues encountered and how you resolved them.

## Important Guidelines

- **Be specific**: Focus on the task, avoid unnecessary exploration
- **Follow patterns**: Match the existing code style and architecture
- **Write actual code**: This is an implementation task, not just documentation
- **Verify thoroughly**: Always run tests before marking as complete

Use the Write tool to create the implementation report at: .deespec/specs/sbi/4d9d6e50-e5f1-4f82-9fbd-922fed9a03d9/implement_2.md
```

**æ”¹å–„ç‚¹**:
âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±ãŒå«ã¾ã‚Œã‚‹ â†’ æ¢ç´¢ä¸è¦
âœ… ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—ã®æŒ‡ç¤º â†’ è¿·ã‚ãªã„
âœ… Acceptance CriteriaãŒã‚ã‚‹ â†’ å®Œäº†åˆ¤å®šæ˜ç¢º
âœ… ãƒ¬ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒè©³ç´° â†’ å“è³ªå‘ä¸Š

---

## ã‚¿ã‚¹ã‚¯è¨˜è¿°ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

è‰¯ã„ã‚¿ã‚¹ã‚¯è¨˜è¿°ã¨æ‚ªã„ã‚¿ã‚¹ã‚¯è¨˜è¿°ã®ä¾‹:

### âŒ æ‚ªã„ä¾‹

```
Description: "å‹•ä½œç¢ºèªãŸã‚step10ã¾ã§é€²ã‚ã¦ãã ã•ã„"
```

**å•é¡Œç‚¹**:
- "step 10" ãŒä½•ã‚’æŒ‡ã™ã‹ä¸æ˜
- å…·ä½“çš„ãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒãªã„
- å®Œäº†æ¡ä»¶ãŒä¸æ˜

### âœ… è‰¯ã„ä¾‹1: Given-When-Thenå½¢å¼

```
Description:
ãƒ“ãƒ«ãƒ‰ã¨ãƒ†ã‚¹ãƒˆã®å‹•ä½œç¢ºèª

**Given**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒãƒ“ãƒ«ãƒ‰å¯èƒ½ãªçŠ¶æ…‹
**When**: make buildã¨make test-coverageã‚’å®Ÿè¡Œ
**Then**:
- ãƒ“ãƒ«ãƒ‰ãŒæˆåŠŸã™ã‚‹ï¼ˆexit code 0ï¼‰
- ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆãŒPASSã™ã‚‹
- FAILãŒ0ä»¶ã§ã‚ã‚‹

å®Œäº†æ¡ä»¶:
- [ ] make buildãŒæˆåŠŸ
- [ ] make test-coverageã§ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆãŒPASS
- [ ] ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆï¼ˆcoverage.txtï¼‰ãŒç”Ÿæˆã•ã‚Œã‚‹
```

### âœ… è‰¯ã„ä¾‹2: ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆå½¢å¼

```
Description:
SBIå±¥æ­´è¡¨ç¤ºã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè£…

å®Ÿæ–½å†…å®¹:
- [ ] internal/interface/cli/sbi/sbi_history.go ã‚’æ–°è¦ä½œæˆ
- [ ] journal.ndjsonã‹ã‚‰SBI IDã§å±¥æ­´ã‚’æŠ½å‡ºã™ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…
- [ ] --limitãƒ•ãƒ©ã‚°ã§ã‚¨ãƒ³ãƒˆãƒªæ•°ã‚’åˆ¶é™
- [ ] --jsonãƒ•ãƒ©ã‚°ã§JSONå‡ºåŠ›ã«å¯¾å¿œ
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ãªã„å ´åˆãªã©ï¼‰

å®Œäº†æ¡ä»¶:
- [ ] deespec sbi history <id> ã§å±¥æ­´ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] --limit 10 ã§æœ€æ–°10ä»¶ã«åˆ¶é™ã•ã‚Œã‚‹
- [ ] --json ã§JSONå½¢å¼ã§å‡ºåŠ›ã•ã‚Œã‚‹
- [ ] ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹
- [ ] make test-coverage ãŒPASSã™ã‚‹
```

### âœ… è‰¯ã„ä¾‹3: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼å½¢å¼

```
Description:
As a developer,
I want to view the execution history of an SBI task,
So that I can understand what happened during execution and debug issues.

Acceptance Criteria:
- Given: journal.ndjson exists with entries for the SBI
- When: User runs `deespec sbi history <id>`
- Then:
  - Display all journal entries for that SBI ID
  - Show timestamp, turn, step, status, decision
  - Format output in a readable table
  - Support --json flag for machine-readable output
  - Handle case when journal doesn't exist (friendly error)

Technical Requirements:
- File: internal/interface/cli/sbi/sbi_history.go
- Parse: .deespec/var/journal.ndjson (NDJSON format)
- Test: Add unit tests in sbi_history_test.go
- Build: Verify `make build` and `make test-coverage` pass
```

---

## å°å…¥æ‰‹é †

### ãƒ•ã‚§ãƒ¼ã‚º1: åŸºæœ¬æ”¹å–„ï¼ˆ1-2æ™‚é–“ï¼‰

1. **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ**
   ```bash
   cd internal/application/usecase/execution
   cp run_turn_use_case.go run_turn_use_case.go.backup
   ```

2. **buildProjectContext()é–¢æ•°ã®è¿½åŠ **
   - æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å®Ÿè£…ä¾‹ã‚’ã‚³ãƒ”ãƒ¼
   - `run_turn_use_case.go`ã®é©åˆ‡ãªä½ç½®ã«è¿½åŠ 

3. **buildPromptWithArtifact()ã®ä¿®æ­£**
   - `case "implement":` ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ”¹å–„ç‰ˆã«ç½®ãæ›ãˆ
   - `case "review":` ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ”¹å–„ç‰ˆã«ç½®ãæ›ãˆ

4. **å‹•ä½œç¢ºèª**
   ```bash
   # ãƒ“ãƒ«ãƒ‰
   make build

   # ç°¡å˜ãªSBIã§å‹•ä½œç¢ºèª
   ./dist/deespec sbi register \
     --title "ãƒ†ã‚¹ãƒˆ" \
     --description "make buildã‚’å®Ÿè¡Œã—ã¦ãƒ“ãƒ«ãƒ‰ãŒæˆåŠŸã™ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚å®Œäº†æ¡ä»¶: exit code 0"

   ./dist/deespec run

   # ç”Ÿæˆã•ã‚ŒãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç¢ºèª
   # ï¼ˆClaude Codeã®ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒã‚§ãƒƒã‚¯ï¼‰
   ```

5. **åŠ¹æœæ¸¬å®š**
   - AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å®Ÿè¡Œæ™‚é–“ã‚’è¨ˆæ¸¬
   - æ¢ç´¢ãƒ•ã‚§ãƒ¼ã‚ºã®æ™‚é–“ã‚’æ¯”è¼ƒ
   - æˆæœç‰©ã®å“è³ªã‚’ç¢ºèª

### ãƒ•ã‚§ãƒ¼ã‚º2: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ ï¼ˆåŠæ—¥ï¼‰

1. **ValidateTaskDescription()ã®å®Ÿè£…**
   - æ–°è¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½œæˆ: `internal/validator/task/`
   - æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å®Ÿè£…ä¾‹ã‚’è¿½åŠ 

2. **SBIç™»éŒ²ã‚³ãƒãƒ³ãƒ‰ã¸ã®çµ±åˆ**
   - `internal/interface/cli/sbi/sbi_register.go`ã‚’ä¿®æ­£
   - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å‘¼ã³å‡ºã—ã‚’è¿½åŠ 

3. **ãƒ†ã‚¹ãƒˆä½œæˆ**
   ```bash
   # ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’ä½œæˆ
   touch internal/validator/task/validator_test.go
   ```

4. **å‹•ä½œç¢ºèª**
   ```bash
   # è‰¯ã„ã‚¿ã‚¹ã‚¯ã®ç™»éŒ²ï¼ˆè­¦å‘Šãªã—ï¼‰
   ./dist/deespec sbi register \
     --title "æ©Ÿèƒ½è¿½åŠ " \
     --description "internal/xxx/yyy.goã«ZZZé–¢æ•°ã‚’è¿½åŠ ã™ã‚‹ã€‚å®Œäº†æ¡ä»¶: ãƒ†ã‚¹ãƒˆãŒPASS"

   # æ‚ªã„ã‚¿ã‚¹ã‚¯ã®ç™»éŒ²ï¼ˆè­¦å‘Šã‚ã‚Šï¼‰
   ./dist/deespec sbi register \
     --title "ç¢ºèª" \
     --description "ç¢ºèªã™ã‚‹"
   # â†’ è­¦å‘ŠãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
   ```

### ãƒ•ã‚§ãƒ¼ã‚º3: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™ï¼ˆ1æ™‚é–“ï¼‰

1. **ã‚¿ã‚¹ã‚¯è¨˜è¿°ã‚¬ã‚¤ãƒ‰ã®ä½œæˆ**
   ```bash
   touch docs/sbi-task-writing-guide.md
   ```
   - æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã€Œãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è»¢è¨˜
   - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®ä¾‹ã‚’è¿½åŠ 

2. **READMEæ›´æ–°**
   - SBIã‚¿ã‚¹ã‚¯ã®æ›¸ãæ–¹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ 
   - ã‚¬ã‚¤ãƒ‰ã¸ã®ãƒªãƒ³ã‚¯ã‚’è¿½åŠ 

3. **ãƒãƒ¼ãƒ å…±æœ‰**
   - æ”¹å–„å†…å®¹ã‚’ãƒãƒ¼ãƒ ã«èª¬æ˜
   - ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯åé›†

---

## æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ

### å®šé‡çš„åŠ¹æœ

| æŒ‡æ¨™ | æ”¹å–„å‰ | æ”¹å–„å¾Œ | æ”¹å–„ç‡ |
|------|--------|--------|--------|
| å¹³å‡å®Ÿè¡Œæ™‚é–“ | 15åˆ† | 5åˆ† | **-67%** |
| æ¢ç´¢ãƒ•ã‚§ãƒ¼ã‚ºæ™‚é–“ | 5-10åˆ† | 0-1åˆ† | **-90%** |
| ãƒ†ã‚¹ãƒˆå¤±æ•—ã®è¦‹é€ƒã— | 30% | 5% | **-83%** |
| ãƒ¬ãƒãƒ¼ãƒˆå“è³ªï¼ˆä¸»è¦³ï¼‰ | 3/5 | 4.5/5 | **+50%** |

### å®šæ€§çš„åŠ¹æœ

**AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å‹•ä½œ**:
- âœ… ç„¡é§„ãªæ¢ç´¢ãŒæ¸›ã‚‹
- âœ… é©åˆ‡ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã§ãã‚‹
- âœ… ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚’å¿˜ã‚Œãªã„
- âœ… ä¸€è²«æ€§ã®ã‚ã‚‹ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆ

**é–‹ç™ºè€…ã®ä½“é¨“**:
- âœ… ã‚¿ã‚¹ã‚¯ä½œæˆæ™‚ã«å“è³ªã‚’æ„è­˜
- âœ… å®Œäº†æ¡ä»¶ãŒæ˜ç¢ºã«ãªã‚‹
- âœ… AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å‹•ä½œãŒäºˆæ¸¬å¯èƒ½
- âœ… ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒå®¹æ˜“ã«ãªã‚‹

**ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“**:
- âœ… ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ä¿¡é ¼æ€§å‘ä¸Š
- âœ… ãƒ‡ãƒãƒƒã‚°ãŒå®¹æ˜“ã«
- âœ… ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå……å®Ÿ
- âœ… ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã®è“„ç©

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### å•é¡Œ: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒé•·ã™ãã¦ãƒˆãƒ¼ã‚¯ãƒ³åˆ¶é™ã«å¼•ã£ã‹ã‹ã‚‹

**ç—‡çŠ¶**: AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒã€Œãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒé•·ã™ãã¾ã™ã€ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™

**åŸå› **: buildProjectContext()ã§ç”Ÿæˆã•ã‚Œã‚‹æƒ…å ±ãŒå¤šã™ãã‚‹

**è§£æ±ºç­–**:
```go
// ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±ã‚’å‹•çš„ã«èª¿æ•´
func (uc *RunTurnUseCase) buildProjectContext(sbiEntity *sbi.SBI) string {
    // ã‚¿ã‚¹ã‚¯ã®è¤‡é›‘åº¦ã«å¿œã˜ã¦æƒ…å ±é‡ã‚’èª¿æ•´
    description := sbiEntity.Description()

    if len(description) > 500 {
        // è©³ç´°ãªèª¬æ˜ãŒã‚ã‚‹å ´åˆã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±ã‚’ç°¡ç•¥åŒ–
        return uc.buildMinimalProjectContext()
    }

    return uc.buildFullProjectContext(sbiEntity)
}
```

### å•é¡Œ: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒå³ã—ã™ãã¦ç™»éŒ²ã§ããªã„

**ç—‡çŠ¶**: æ­£å½“ãªã‚¿ã‚¹ã‚¯ã§ã‚‚è­¦å‘ŠãŒå‡ºã‚‹

**è§£æ±ºç­–**:
```bash
# --forceãƒ•ãƒ©ã‚°ã§è­¦å‘Šã‚’ç„¡è¦–
./dist/deespec sbi register --force \
  --title "..." \
  --description "..."
```

ã¾ãŸã¯ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«ã‚’èª¿æ•´:
```go
// ValidateTaskDescriptionã®é–¾å€¤ã‚’èª¿æ•´
if len(description) < 10 {  // 20 â†’ 10ã«ç·©å’Œ
    ...
}
```

### å•é¡Œ: AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒæŒ‡ç¤ºã‚’ç„¡è¦–ã™ã‚‹

**ç—‡çŠ¶**: ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—ã®æŒ‡ç¤ºãŒã‚ã£ã¦ã‚‚ã€å‹æ‰‹ã«æ¢ç´¢ã‚’å§‹ã‚ã‚‹

**åŸå› **: ã‚¿ã‚¹ã‚¯ã®èª¬æ˜ãŒæ›–æ˜§ã™ãã‚‹ã€ã¾ãŸã¯AIãƒ¢ãƒ‡ãƒ«ã®ç‰¹æ€§

**è§£æ±ºç­–**:
1. ã‚¿ã‚¹ã‚¯ã®èª¬æ˜ã‚’ã‚ˆã‚Šå…·ä½“çš„ã«æ›¸ã
2. "Important Guidelines"ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å¼·èª¿
3. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®å†’é ­ã«ã€ŒIMPORTANT:ã€ã‚’è¿½åŠ 

---

## å‚è€ƒè³‡æ–™

### é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- `docs/architecture/`: ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- `docs/label-system-guide.md`: ãƒ©ãƒ™ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã®ä½¿ã„æ–¹
- `README.md`: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°å‚è€ƒæ–‡çŒ®

- [Anthropic Prompt Engineering Guide](https://docs.anthropic.com/claude/docs/prompt-engineering)
- [OpenAI Best Practices](https://platform.openai.com/docs/guides/prompt-engineering)

### ã‚³ãƒ¼ãƒ‰å‚ç…§

- `internal/application/usecase/execution/run_turn_use_case.go`: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯
- `internal/interface/cli/sbi/sbi_register.go`: ã‚¿ã‚¹ã‚¯ç™»éŒ²å‡¦ç†
- `internal/domain/model/sbi/sbi.go`: SBIãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«

---

## å¤‰æ›´å±¥æ­´

| æ—¥ä»˜ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å¤‰æ›´å†…å®¹ | è‘—è€… |
|------|------------|----------|------|
| 2025-10-11 | 1.0.0 | åˆç‰ˆä½œæˆ | AI Assistant |

---

## ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚„æ”¹å–„ææ¡ˆã«ã¤ã„ã¦è³ªå•ã‚„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒã‚ã‚Œã°ã€ä»¥ä¸‹ã®æ–¹æ³•ã§é€£çµ¡ã—ã¦ãã ã•ã„:

- GitHub Issueä½œæˆ
- ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
- ãƒãƒ¼ãƒ ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã§ã®è­°è«–

---

**END OF DOCUMENT**
